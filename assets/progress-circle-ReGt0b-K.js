import{j as r}from"./jsx-runtime-DEdD30eg.js";import{r as m,R as v}from"./index-RYns6xqu.js";import{g as h}from"./styled-7_Fd9YFd.js";const p=({themeColor:t="primary",label:s="",percent:u=0,size:e=100,strokeWidth:a=10,className:f=""})=>{const l=m.useRef(null),[n,g]=v.useState(0);m.useEffect(()=>{l.current&&g(l.current.getComputedTextLength())},[s]);const c=(e-a)/2,i=2*Math.PI*c,y=i-u/100*i,d=Math.min(Math.max(u,0),100),o=()=>n?(console.log(n+a+30),n+a+30):64;return r.jsxs("div",{className:`ded-progress-circle-container ${f}`,children:[r.jsxs("svg",{className:"ded-progress",width:e,height:e,children:[r.jsx("circle",{className:"ded-progress-circle-track",fill:"transparent",strokeWidth:a,r:c,cx:e/2,cy:e/2}),r.jsx("circle",{className:`${h("circle",t)}`,fill:"transparent",strokeWidth:a,strokeDasharray:i,strokeDashoffset:y,strokeLinecap:"round",r:c,cx:e/2,cy:e/2,transform:`rotate(-90 ${e/2} ${e/2})`,style:{transition:"stroke-dashoffset 0.35s"}}),e>=o()&&r.jsx("text",{ref:l,x:"50%",y:"45%",textAnchor:"middle",fontSize:"1em",fill:"black",children:s??""}),e>=o()&&r.jsx("text",{x:"50%",y:s?"60%":"50%",textAnchor:"middle",dy:".3em",fontSize:"1.5em",fill:"black",children:`${d}%`})]}),e<o()&&r.jsxs("div",{className:"ded-progress-circle-label",children:[r.jsx("span",{children:s}),r.jsx("span",{children:`${d}%`})]})]})};try{p.displayName="CircleProgress",p.__docgenInfo={description:"CircleProgress 元件",displayName:"CircleProgress",props:{themeColor:{defaultValue:{value:"primary"},description:"",name:"themeColor",required:!1,type:{name:"enum",value:[{value:'"primary"'},{value:'"secondary"'},{value:'"neutral"'},{value:'"info"'},{value:'"success"'},{value:'"warning"'},{value:'"error"'}]}},label:{defaultValue:{value:""},description:"",name:"label",required:!1,type:{name:"string"}},percent:{defaultValue:{value:"0"},description:"",name:"percent",required:!1,type:{name:"number"}},size:{defaultValue:{value:"100"},description:"",name:"size",required:!1,type:{name:"number"}},strokeWidth:{defaultValue:{value:"10"},description:"",name:"strokeWidth",required:!1,type:{name:"number"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}try{progresscircle.displayName="progresscircle",progresscircle.__docgenInfo={description:"CircleProgress 元件",displayName:"progresscircle",props:{themeColor:{defaultValue:{value:"primary"},description:"",name:"themeColor",required:!1,type:{name:"enum",value:[{value:'"primary"'},{value:'"secondary"'},{value:'"neutral"'},{value:'"info"'},{value:'"success"'},{value:'"warning"'},{value:'"error"'}]}},label:{defaultValue:{value:""},description:"",name:"label",required:!1,type:{name:"string"}},percent:{defaultValue:{value:"0"},description:"",name:"percent",required:!1,type:{name:"number"}},size:{defaultValue:{value:"100"},description:"",name:"size",required:!1,type:{name:"number"}},strokeWidth:{defaultValue:{value:"10"},description:"",name:"strokeWidth",required:!1,type:{name:"number"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}export{p as C};
