import{j as l}from"./jsx-runtime-CkxqCPlQ.js";import{r as c}from"./index-DJO9vBfz.js";import{u as h}from"./usePosition-CCkH-I2k.js";import{R as b}from"./index-URyNLXnw.js";const $=(e,r,t,a)=>{if(t==="top")return{top:`${e.top}px`,left:`${e.left}px`,transform:`translate(calc(${r.width/2}px - 50%), calc(-100% - ${a}))`};if(t==="bottom")return{top:`${e.top+r.height}px`,left:`${e.left}px`,transform:`translate(calc(${r.width/2}px - 50%), ${a})`};if(t==="left")return{top:`${e.top}px`,left:`${e.left}px`,transform:`translate(calc(-100% - ${a}), calc(${r.height/2}px - 50%))`};if(t==="right")return{top:`${e.top}px`,left:`${e.left+r.width}px`,transform:`translate(${a}, calc(${r.height/2}px - 50%))`};if(t==="top-left")return{top:`${e.top}px`,left:`${e.left}px`,transform:`translate(0, calc(-100% - ${a}))`};if(t==="top-right")return{top:`${e.top}px`,left:`${e.left+r.width}px`,transform:`translate(calc(-100%), calc(-100% - ${a}))`};if(t==="bottom-left")return{top:`${e.top+r.height}px`,left:`${e.left}px`,transform:`translate(0, ${a})`};if(t==="bottom-right")return{top:`${e.top+r.height}px`,left:`${e.left+r.width}px`,transform:`translate(calc(-100%), ${a})`};if(t==="left-top")return{top:`${e.top}px`,left:`${e.left}px`,transform:`translate(calc(-100% - ${a}), 0)`};if(t==="left-bottom")return{top:`${e.top+r.height}px`,left:`${e.left}px`,transform:`translate(calc(-100% - ${a}), -100%)`};if(t==="right-top")return{top:`${e.top}px`,left:`${e.left+r.width}px`,transform:`translate(${a}, 0)`};if(t==="right-bottom")return{top:`${e.top+r.height}px`,left:`${e.left+r.width}px`,transform:`translate(${a}, -100%)`}},n=({children:e,customRootId:r})=>{let t;const a=r||"portal-root";if(document.getElementById(a))t=document.getElementById(a);else{const d=document.createElement("div");d.id=a,document.body.appendChild(d),t=d}return b.createPortal(e,t)};try{n.displayName="Portal",n.__docgenInfo={description:"",displayName:"Portal",props:{customRootId:{defaultValue:null,description:"",name:"customRootId",required:!1,type:{name:"string"}}}}}catch{}try{portal.displayName="portal",portal.__docgenInfo={description:"",displayName:"portal",props:{customRootId:{defaultValue:null,description:"",name:"customRootId",required:!1,type:{name:"string"}}}}}catch{}const _=(e,r)=>{const t=a=>{e.current&&!e.current.contains(a.target)&&r()};c.useEffect(()=>(document.addEventListener("mousedown",t),()=>{document.removeEventListener("mousedown",t)}),[])},g=({label:e="",href:r="#",isCurrentPage:t=!1})=>t?l.jsx("span",{className:"ded-breadcrumb-item-label",children:e}):l.jsx("a",{className:"ded-breadcrumb-item-link",href:r,children:e}),m=({dataSource:e,className:r=""})=>{const t=c.useRef(null),a=c.useRef(null),[d,u]=c.useState(!1),{childrenSize:p,position:i}=h(t);_(a,()=>u(!1));const x=()=>{u(s=>!s)},f=e.length>3?[e[0],{label:"...",href:"#"},...e.slice(-2)]:e;return l.jsxs(l.Fragment,{children:[l.jsx("nav",{className:`ded-breadcrumb-container ${r}`,children:l.jsx("ol",{className:"ded-breadcrumb",children:f.map((s,o)=>l.jsx("li",{className:"ded-breadcrumb-item",children:s.label==="..."?l.jsx("div",{ref:t,className:"ded-rest",children:l.jsx("span",{onClick:x,className:"ded-rest-label",children:s.label})}):l.jsx(g,{label:s.label,href:s.href==="#"?void 0:s.href,isCurrentPage:o===f.length-1})},o))})}),l.jsx(n,{children:d&&l.jsx("div",{ref:a,style:$(i,p,"bottom-left","6px"),className:`ded-dropdown-menu ${r}`,children:l.jsx("ul",{className:"ded-rest-dropdown-menu",children:e.slice(1,-2).map((s,o)=>l.jsx("li",{className:"ded-drop-item",children:l.jsx("a",{className:"ded-drop-item-link",href:s.href,children:s.label})},o))})})})]})};try{m.displayName="Breadcrumb",m.__docgenInfo={description:"`Breadcrumb` 元件用於顯示導航路徑。",displayName:"Breadcrumb",props:{dataSource:{defaultValue:null,description:"",name:"dataSource",required:!0,type:{name:"{ label: string; href?: string | undefined; }[]"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}try{breadcrumb.displayName="breadcrumb",breadcrumb.__docgenInfo={description:"`Breadcrumb` 元件用於顯示導航路徑。",displayName:"breadcrumb",props:{dataSource:{defaultValue:null,description:"",name:"dataSource",required:!0,type:{name:"{ label: string; href?: string | undefined; }[]"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}export{m as B,n as P,$ as g,_ as u};
