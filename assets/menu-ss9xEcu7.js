import{j as t}from"./jsx-runtime-DEdD30eg.js";import{r as s}from"./index-RYns6xqu.js";import{c as x}from"./warning-DPjiZ-Sx.js";import"./toast-CAeIrprW.js";import"./index-sbqOYYIm.js";const g=(e,a)=>{var u;const[n,r]=s.useState(!1),l=s.useRef(null),[i,o]=s.useState("0px"),d=!!((u=e.children)!=null&&u.length);return s.useEffect(()=>{const m=c=>c.reduce((h,y)=>y.children?h+42+m(y.children):h+42,0);if(l.current)if(n){const c=m(e.children||[]);o(`${c}px`)}else o("0px")},[n,e.children]),s.useEffect(()=>{a&&r(!1)},[a]),{isOpen:n,setIsOpen:r,contentRef:l,maxHeight:i,hasChildren:d}},p=({item:e={title:"",prefix:""},isCollapsed:a=!1,color:n="#000000"})=>{var u;const{isOpen:r,setIsOpen:l,contentRef:i,maxHeight:o,hasChildren:d}=g(e,a);return t.jsxs("li",{className:"ded-nav-item",children:[t.jsxs("a",{href:e.path,style:{color:n},className:"ded-nav-item-link",onClick:()=>{e.path&&console.log("go to",e.path)},children:[t.jsx("div",{className:"ded-nav-item-icon",children:e.prefix}),!a&&t.jsx("span",{className:"ded-nav-item-label",children:e.title})]}),!a&&d&&t.jsx("div",{className:"ded-nav-item-arrow",children:t.jsx(x,{width:24,height:24,fill:n,style:{transition:"transform 0.3s",transform:r?"rotate(180deg)":"rotate(0deg)"},onClick:()=>{l(!r)}})}),t.jsx("ul",{ref:i,className:"ded-nav-subitem",style:{maxHeight:o},children:d&&((u=e.children)==null?void 0:u.map((m,c)=>t.jsx(p,{item:m,isCollapsed:a,color:n},c)))})]})};try{p.displayName="MenuItem",p.__docgenInfo={description:"`MenuItem` 是一個 React Functional Component，用於渲染菜單項目。",displayName:"MenuItem",props:{item:{defaultValue:{value:"{ title: '', prefix: '' }"},description:"",name:"item",required:!1,type:{name:"ItemProps"}},isCollapsed:{defaultValue:{value:"false"},description:"",name:"isCollapsed",required:!1,type:{name:"boolean"}},color:{defaultValue:{value:"#000000"},description:"",name:"color",required:!1,type:{name:"string"}}}}}catch{}const f=({dataSource:e,isCollapsed:a=!1,color:n="#000000"})=>{const r=s.useRef(null);return s.useEffect(()=>{r.current&&(r.current.style.width=a?"60px":"100%")},[a]),t.jsx("div",{className:"ded-nav-container",children:t.jsx("nav",{ref:r,className:"ded-nav",style:{width:a?"60px":"100%"},children:t.jsx("ul",{className:"ded-nav-list",children:e.map((l,i)=>t.jsx(p,{item:l,isCollapsed:a,color:n},i))})})})},E=f;try{f.displayName="Menu",f.__docgenInfo={description:"Menu 組件",displayName:"Menu",props:{dataSource:{defaultValue:null,description:"",name:"dataSource",required:!0,type:{name:"ItemProps[]"}},isCollapsed:{defaultValue:{value:"false"},description:"",name:"isCollapsed",required:!1,type:{name:"boolean"}},color:{defaultValue:{value:"#000000"},description:"",name:"color",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}try{menu.displayName="menu",menu.__docgenInfo={description:"Menu 組件",displayName:"menu",props:{dataSource:{defaultValue:null,description:"",name:"dataSource",required:!0,type:{name:"ItemProps[]"}},isCollapsed:{defaultValue:{value:"false"},description:"",name:"isCollapsed",required:!1,type:{name:"boolean"}},color:{defaultValue:{value:"#000000"},description:"",name:"color",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}export{E as M,f as a};
